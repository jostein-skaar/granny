var u=Object.defineProperty;var m=(s,e,o)=>e in s?u(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;var r=(s,e,o)=>(m(s,typeof e!="symbol"?e+"":e,o),o);import{P as d}from"./vendor.7bb6d1d4.js";const f=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};f();function n(s){return s*globalThis.pixelRatio}class p extends Phaser.Scene{constructor(){super({key:"lost-scene"});r(this,"bredde");r(this,"hoyde")}init(e){this.bredde=this.game.scale.gameSize.width,this.hoyde=this.game.scale.gameSize.height}create(){const e=`Du klarte XXX
Trykk for \xE5 pr\xF8ve igjen
(Vent for \xE5 g\xE5 til meny)`;this.add.text(this.bredde/2,this.hoyde/2,e,{fontFamily:"arial",fontSize:`${n(20)}px`,color:"#fff",align:"center",backgroundColor:"#b3000c",padding:{x:n(15),y:n(15)}}).setOrigin(.5,.5),setTimeout(()=>{this.input.once("pointerdown",()=>{this.scene.start("main-scene",{})})},500)}}class g extends d.Scene{constructor(){super("main-scene");r(this,"bredde");r(this,"hoyde");r(this,"hero");r(this,"presentsGroup");r(this,"enemyGroup");r(this,"isPaused",!1);r(this,"isDead",!1);r(this,"countdownText")}init(e){this.bredde=this.game.scale.gameSize.width,this.hoyde=this.game.scale.gameSize.height}create(){this.enemyGroup=this.physics.add.group({allowGravity:!1,immovable:!0}),this.hero=this.physics.add.sprite(0,0,"hero"),this.hero.setPosition(this.bredde/2,this.hoyde/2),this.hero.anims.create({key:"walk",frames:this.anims.generateFrameNumbers("hero",{frames:[0,1]}),frameRate:6}),this.input.on("pointerdown",()=>{}),this.physics.add.overlap(this.hero,this.enemyGroup,(c,t)=>{this.lose()}),this.countdownText=this.add.text(this.bredde/2,this.hoyde/2,"",{fontSize:`${n(200)}px`,color:"#f3dd71",fontStyle:"bold"}).setOrigin(.5,.5),this.tweens.add({targets:this.countdownText,scale:1.4,ease:"Power0",duration:250,yoyo:!0,repeat:-1});let e=3;this.countdownText.setText(e.toString());const o=setInterval(()=>{e--,this.countdownText.setText(e.toString()),console.log(e),e<=0&&(this.countdownText.setVisible(!1),this.startGame(),clearInterval(o))},1e3);this.isDead=!1,this.isPaused=!0,this.physics.pause()}update(){this.isPaused||this.hero.play("walk",!0)}startGame(){this.isPaused=!1,this.physics.resume()}lose(){this.isDead||(this.isDead=!0,this.scene.pause(),this.hero.setTint(16711680),this.cameras.main.setBackgroundColor(12237498),this.cameras.main.setAlpha(.5),this.scene.launch("lost-scene",{}))}}class y extends d.Scene{constructor(){super({key:"preload-scene"})}preload(){console.log("preload-scene"),this.load.spritesheet("hero",`/assets/hero-sprite@${n(1)}.png?v=0.3`,{frameWidth:n(50),frameHeight:n(60),margin:1,spacing:2}),this.load.spritesheet("enemy",`/assets/enemy-sprite@${n(1)}.png?v=0.3`,{frameWidth:n(32),frameHeight:n(32),margin:1,spacing:2})}create(){this.scene.start("main-scene")}}function w(s,e,o,c,t,i){return{type:Phaser.AUTO,scene:[y,g,p],width:s*t,height:e*t,backgroundColor:11776947,autoFocus:!0,parent:"game",render:{antialias:!0},physics:{default:"arcade",arcade:{gravity:{y:0*t},debug:i}},scale:{mode:o,autoCenter:c,zoom:1/t}}}let h=!0;h=!1;let a=window.devicePixelRatio;a!==1&&a!==2&&a!==3&&(a=1);a=1;globalThis.pixelRatio=a;const S=w(800,600,d.Scale.ScaleModes.NONE,d.Scale.NO_CENTER,a,h);new d.Game(S);window.onload=()=>{const s=document.querySelector("#loader"),e=document.querySelector("#content");s.style.display="none",e.style.display="block"};
